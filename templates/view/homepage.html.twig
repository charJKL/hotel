{% extends 'base.html.twig' %} 

{% block body %}
<form id="calendar" method="post" action="{{ path("book") }}">
	{% for result in app.flashes("reservation.result") %}
		{% set css_class = "status-" ~ result.status %}
		<div class="calendar-result {{ css_class }}"> {{ result.message|trans }}</div>
	{% endfor %}
	<div class="calendar-row">
		<div class="calendar-input">
			<label class="calendar-label">{{ "calendar.amount?"|trans }}</label>
			<select class="calendar-amount" name="amount" required>
				<option value="1">{{ "calendar.amount"|trans({persons: 1}) }}</option>
				<option value="2">{{ "calendar.amount"|trans({persons: 2}) }}</option>
				<option value="3">{{ "calendar.amount"|trans({persons: 3}) }}</option>
				<option value="4">{{ "calendar.amount"|trans({persons: 4}) }}</option>
				{# TODO what for 4 and more persons? #}
			</select>
		</div>
		<div class="calendar-input">
			<label class="calendar-label">{{ "calendar.rooms?"|trans }}</label>
			<select class="calendar-rooms" name="rooms" required>
				<option value="1">{{ "calendar.rooms"|trans({rooms: 1}) }}</option>
				<option value="2">{{ "calendar.rooms"|trans({rooms: 2}) }}</option>
				<option value="3">{{ "calendar.rooms"|trans({rooms: 3}) }}</option>
				<option value="4">{{ "calendar.rooms"|trans({rooms: 4}) }}</option>
				{# TODO what for 4 and more persons? #}
			</select>
		</div>
		<div class="calendar-input calendar-input-contact">
			<label class="calendar-label">{{ "calendar.contact"|trans }}</label>
			<input class="calendar-contact" type="text" name="contact" required />
		</div>
		<div class="calendar-input calendar-input-submit">
			<input class="calendar-submit" type="submit" value="{{ 'calendar.booking'|trans }}" />
		</div>
	</div>
	<div class="calendar-row">
		<div class="calendar-input">
			<label class="calendar-label">{{ "calednar.checkin.date?"|trans }}</label>
			<input class="calendar-start" type="date" name="start" value="2021-02-18" required/>
		</div>
		<div class="calendar-input">
			<label class="calendar-label">{{ "calendar.stay.until?"|trans }}</label>
			<input class="calendar-end" type="date" name="end" required/>
		</div>
	</div>
	<div class="calnedar-sheet">
		{# Calendar sheet will be generated by JS #}
		{# We want page working with disabled JS, it's only helper, making date pick more pleasing. #}
		{# Rendering it without JS make no sense, because it won't work. #}
	</div>
</form>

{{ render_esi(controller('App\\Controller\\MainController::offers', {locale: app.request.locale})) }}
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="{{ asset("/js/calendar.js") }}"></script>
{% endblock %}