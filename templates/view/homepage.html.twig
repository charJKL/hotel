{% extends 'base.html.twig' %} 

{% block stylesheets %}
	{{ parent() }}
	{{ encore_entry_link_tags("homepage") }}
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	{{ encore_entry_script_tags("homepage") }}
{% endblock %}

{% block body %}
<form class="reservation-form" method="post" action="{{ path("book") }}">
	{% for result in app.flashes("reservation.result") %}
		{% set css_class = "status-" ~ result.status %}
		<div class="reservation-result {{ css_class }}"> {{ result.message|trans }}</div>
	{% endfor %}
	<div class="reservation-row reservation-row-dates">
		<div class="reservation-input">
			<label class="reservation-label">{{ "reservation.checkin.date?"|trans }}</label>
			<input class="reservation-start" type="date" name="start" value="{{ 'now'|date('Y-m-d') }}" required/>
		</div>
		<div class="reservation-input">
			<label class="reservation-label">{{ "reservation.stay.until?"|trans }}</label>
			<input class="reservation-end" type="date" name="end" required/>
		</div>
	</div>
	<div class="reservation-row reservation-row-info">
		<div class="reservation-input">
			<label class="reservation-label">{{ "reservation.amount?"|trans }}</label>
			<select class="reservation-amount" name="amount" required>
				<option value="1">{{ "reservation.amount"|trans({persons: 1}) }}</option>
				<option value="2">{{ "reservation.amount"|trans({persons: 2}) }}</option>
				<option value="3">{{ "reservation.amount"|trans({persons: 3}) }}</option>
				<option value="4">{{ "reservation.amount"|trans({persons: 4}) }}</option>
				{# TODO what for 4 and more persons? #}
			</select>
		</div>
		<div class="reservation-input">
			<label class="reservation-label">{{ "reservation.rooms?"|trans }}</label>
			<select class="reservation-rooms" name="rooms" required>
				<option value="1">{{ "reservation.rooms"|trans({rooms: 1}) }}</option>
				<option value="2">{{ "reservation.rooms"|trans({rooms: 2}) }}</option>
				<option value="3">{{ "reservation.rooms"|trans({rooms: 3}) }}</option>
				<option value="4">{{ "reservation.rooms"|trans({rooms: 4}) }}</option>
				{# TODO what for 4 and more persons? #}
			</select>
		</div>
		<div class="reservation-input reservation-input-contact">
			<label class="reservation-label">{{ "reservation.contact"|trans }}</label>
			<input class="reservation-contact" type="text" name="contact" required />
		</div>
		<div class="reservation-input reservation-input-submit">
			<input class="reservation-submit" type="submit" value="{{ 'reservation.booking'|trans }}" />
		</div>
	</div>
	<div class="reservation-sheet reservation-row-sheet">
		{# Calendar sheet will be generated by JS #}
		{# We want page working with disabled JS, it's only helper, making date pick more pleasing. #}
		{# Although we provide custom calendar do not remove browser native picker coming form type="date". #}
		{# Rendering it without JS make no sense, because it won't work. #}
	</div>
</form>

{{ render_esi(controller('App\\Controller\\MainController::offers', {locale: app.request.locale})) }}
{% endblock %}